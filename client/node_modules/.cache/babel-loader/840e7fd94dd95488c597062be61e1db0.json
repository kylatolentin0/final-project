{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kylatolentino/final-project-1/final-project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kylatolentino/final-project-1/final-project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/kylatolentino/final-project-1/final-project/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/kylatolentino/final-project-1/final-project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kylatolentino/final-project-1/final-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useParams}from'react-router-dom';import'./EditPost.css';import{supabase}from'../client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPost=function EditPost(_ref){var data=_ref.data;var _useParams=useParams(),id=_useParams.id;var _useState=useState({id:null,title:\"\",author:\"\",description:\"\"}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setPost(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var updatePost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return supabase.from('Posts').update({title:post.title,author:post.author,description:post.description}).eq('id',id);case 3:window.location=\"/\";case 4:case\"end\":return _context.stop();}}},_callee);}));return function updatePost(_x){return _ref2.apply(this,arguments);};}();var deletePost=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.next=3;return supabase.from('Posts').delete().eq('id',id);case 3:window.location=\"http://localhost:3000/\";case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function deletePost(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Name of Song\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:post.title,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"author\",children:\"Artist Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"author\",name:\"author\",value:post.author,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"A Lyric from the Song\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"5\",cols:\"50\",id:\"description\",value:post.description,name:\"description\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\",onClick:updatePost}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteButton\",onClick:deletePost,children:\"Delete\"})]})});};export default EditPost;","map":{"version":3,"names":["React","useState","useParams","supabase","EditPost","data","id","title","author","description","post","setPost","handleChange","event","target","name","value","prev","updatePost","preventDefault","from","update","eq","window","location","deletePost","delete"],"sources":["/Users/kylatolentino/final-project-1/final-project/client/src/pages/EditPost.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport './EditPost.css';\nimport { supabase } from '../client';\n\nconst EditPost = ({data}) => {\n\n    const {id} = useParams();\n    const [post, setPost] = useState({id: null, title: \"\", author: \"\", description: \"\"});\n\n    const handleChange = (event) => {\n        const {name, value} = event.target;\n        setPost(prev => ({\n            ...prev,\n            [name]: value,\n        }));\n    };\n\n    const updatePost = async (event) => {\n        event.preventDefault();\n      \n        await supabase\n          .from('Posts')\n          .update({ title: post.title, author: post.author,  description: post.description})\n          .eq('id', id);\n      \n        window.location = \"/\";\n    };\n\n    const deletePost = async (event) => {\n        event.preventDefault();\n      \n        await supabase\n          .from('Posts')\n          .delete()\n          .eq('id', id); \n      \n        window.location = \"http://localhost:3000/\";\n      }\n\n    return (\n        <div>\n            <form>\n                <label htmlFor=\"title\">Name of Song</label> <br />\n                <input type=\"text\" id=\"title\" name=\"title\" value={post.title} onChange={handleChange} /><br />\n                <br/>\n\n                <label htmlFor=\"author\">Artist Name</label><br />\n                <input type=\"text\" id=\"author\" name=\"author\" value={post.author} onChange={handleChange} /><br />\n                <br/>\n\n                <label htmlFor=\"description\">A Lyric from the Song</label><br />\n                <textarea rows=\"5\" cols=\"50\" id=\"description\" value={post.description} name='description' onChange={handleChange} >\n                </textarea>\n                <br/>\n                <input type=\"submit\" value=\"Submit\" onClick={updatePost}/>\n                <button className=\"deleteButton\" onClick={deletePost}>Delete</button>\n            </form>\n        </div>\n    );\n};\n\nexport default EditPost;"],"mappings":"4tBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAO,gBAAP,CACA,OAASC,QAAT,KAAyB,WAAzB,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,MAAY,IAAVC,KAAU,MAAVA,IAAU,CAEzB,eAAaH,SAAS,EAAtB,CAAOI,EAAP,YAAOA,EAAP,CACA,cAAwBL,QAAQ,CAAC,CAACK,EAAE,CAAE,IAAL,CAAWC,KAAK,CAAE,EAAlB,CAAsBC,MAAM,CAAE,EAA9B,CAAkCC,WAAW,CAAE,EAA/C,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC5B,kBAAsBA,KAAK,CAACC,MAA5B,CAAOC,IAAP,eAAOA,IAAP,CAAaC,KAAb,eAAaA,KAAb,CACAL,OAAO,CAAC,SAAAM,IAAI,wCACLA,IADK,wBAEPF,IAFO,CAEAC,KAFA,IAAL,CAAP,CAIH,CAND,CAQA,GAAME,WAAU,6FAAG,iBAAOL,KAAP,oHACfA,KAAK,CAACM,cAAN,GADe,sBAGThB,SAAQ,CACXiB,IADG,CACE,OADF,EAEHC,MAFG,CAEI,CAAEd,KAAK,CAAEG,IAAI,CAACH,KAAd,CAAqBC,MAAM,CAAEE,IAAI,CAACF,MAAlC,CAA2CC,WAAW,CAAEC,IAAI,CAACD,WAA7D,CAFJ,EAGHa,EAHG,CAGA,IAHA,CAGMhB,EAHN,CAHS,QAQfiB,MAAM,CAACC,QAAP,CAAkB,GAAlB,CARe,sDAAH,kBAAVN,WAAU,6CAAhB,CAWA,GAAMO,WAAU,6FAAG,kBAAOZ,KAAP,wHACfA,KAAK,CAACM,cAAN,GADe,uBAGThB,SAAQ,CACXiB,IADG,CACE,OADF,EAEHM,MAFG,GAGHJ,EAHG,CAGA,IAHA,CAGMhB,EAHN,CAHS,QAQfiB,MAAM,CAACC,QAAP,CAAkB,wBAAlB,CARe,wDAAH,kBAAVC,WAAU,8CAAhB,CAWA,mBACI,kCACI,qCACI,cAAO,OAAO,CAAC,OAAf,0BADJ,kBACgD,aADhD,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,OAAtB,CAA8B,IAAI,CAAC,OAAnC,CAA2C,KAAK,CAAEf,IAAI,CAACH,KAAvD,CAA8D,QAAQ,CAAEK,YAAxE,EAFJ,cAE4F,aAF5F,cAGI,aAHJ,cAKI,cAAO,OAAO,CAAC,QAAf,yBALJ,cAK+C,aAL/C,cAMI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,QAAtB,CAA+B,IAAI,CAAC,QAApC,CAA6C,KAAK,CAAEF,IAAI,CAACF,MAAzD,CAAiE,QAAQ,CAAEI,YAA3E,EANJ,cAM+F,aAN/F,cAOI,aAPJ,cASI,cAAO,OAAO,CAAC,aAAf,mCATJ,cAS8D,aAT9D,cAUI,iBAAU,IAAI,CAAC,GAAf,CAAmB,IAAI,CAAC,IAAxB,CAA6B,EAAE,CAAC,aAAhC,CAA8C,KAAK,CAAEF,IAAI,CAACD,WAA1D,CAAuE,IAAI,CAAC,aAA5E,CAA0F,QAAQ,CAAEG,YAApG,EAVJ,cAYI,aAZJ,cAaI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,OAAO,CAAEM,UAA7C,EAbJ,cAcI,eAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAEO,UAA1C,oBAdJ,GADJ,EADJ,CAoBH,CAvDD,CAyDA,cAAerB,SAAf"},"metadata":{},"sourceType":"module"}