{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kylatolentino/final-project-1/final-project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kylatolentino/final-project-1/final-project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/kylatolentino/final-project-1/final-project/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/kylatolentino/final-project-1/final-project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kylatolentino/final-project-1/final-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./CreatePost.css';import{supabase}from'../client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePost=function CreatePost(){var _useState=useState({title:\"\",author:\"\",description:\"\"}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setPost(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var createPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return supabase.from('Posts').insert({title:post.title,author:post.author,description:post.description}).select();case 3:window.location=\"/\";case 4:case\"end\":return _context.stop();}}},_callee);}));return function createPost(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"title\",children:\"Name of Song\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{for:\"author\",children:\"Artist Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"author\",name:\"author\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{for:\"description\",children:\"A Lyric from the Song\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"5\",cols:\"50\",id:\"description\",name:\"description\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\",onClick:createPost})]})});};export default CreatePost;","map":{"version":3,"names":["React","useState","supabase","CreatePost","title","author","description","post","setPost","handleChange","event","target","name","value","prev","createPost","preventDefault","from","insert","select","window","location"],"sources":["/Users/kylatolentino/final-project-1/final-project/client/src/pages/CreatePost.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './CreatePost.css'\nimport { supabase } from '../client'\n\nconst CreatePost = () => {\n\n    const [post, setPost] = useState({title: \"\", author: \"\", description: \"\"})\n\n    const handleChange = (event) => {\n        const {name, value} = event.target;\n        setPost( (prev) => {\n            return {\n                ...prev,\n                [name]:value,\n            }\n        })\n    }\n\n    const createPost = async (event) => {\n        event.preventDefault();\n      \n        await supabase\n          .from('Posts')\n          .insert({title: post.title, author: post.author, description: post.description})\n          .select();\n      \n        window.location = \"/\";\n      }\n\n    return (\n        <div>\n            <form>\n                <label for=\"title\">Name of Song</label> <br />\n                <input type=\"text\" id=\"title\" name=\"title\" onChange={handleChange} /><br />\n                <br/>\n\n                <label for=\"author\">Artist Name</label><br />\n                <input type=\"text\" id=\"author\" name=\"author\" onChange={handleChange} /><br />\n                <br/>\n\n                <label for=\"description\">A Lyric from the Song</label><br />\n                <textarea rows=\"5\" cols=\"50\" id=\"description\" name='description'onChange={handleChange}>\n                </textarea>\n                <br/>\n                <input type=\"submit\" value=\"Submit\" onClick={createPost} />\n            </form>\n        </div>\n    )\n}\n\nexport default CreatePost"],"mappings":"4tBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,kBAAP,CACA,OAASC,QAAT,KAAyB,WAAzB,C,wFAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CAErB,cAAwBF,QAAQ,CAAC,CAACG,KAAK,CAAE,EAAR,CAAYC,MAAM,CAAE,EAApB,CAAwBC,WAAW,CAAE,EAArC,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC5B,kBAAsBA,KAAK,CAACC,MAA5B,CAAOC,IAAP,eAAOA,IAAP,CAAaC,KAAb,eAAaA,KAAb,CACAL,OAAO,CAAE,SAACM,IAAD,CAAU,CACf,sCACOA,IADP,wBAEKF,IAFL,CAEWC,KAFX,GAIH,CALM,CAAP,CAMH,CARD,CAUA,GAAME,WAAU,4FAAG,iBAAOL,KAAP,oHACfA,KAAK,CAACM,cAAN,GADe,sBAGTd,SAAQ,CACXe,IADG,CACE,OADF,EAEHC,MAFG,CAEI,CAACd,KAAK,CAAEG,IAAI,CAACH,KAAb,CAAoBC,MAAM,CAAEE,IAAI,CAACF,MAAjC,CAAyCC,WAAW,CAAEC,IAAI,CAACD,WAA3D,CAFJ,EAGHa,MAHG,EAHS,QAQfC,MAAM,CAACC,QAAP,CAAkB,GAAlB,CARe,sDAAH,kBAAVN,WAAU,4CAAhB,CAWA,mBACI,kCACI,qCACI,cAAO,GAAG,CAAC,OAAX,0BADJ,kBAC4C,aAD5C,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,OAAtB,CAA8B,IAAI,CAAC,OAAnC,CAA2C,QAAQ,CAAEN,YAArD,EAFJ,cAEyE,aAFzE,cAGI,aAHJ,cAKI,cAAO,GAAG,CAAC,QAAX,yBALJ,cAK2C,aAL3C,cAMI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,QAAtB,CAA+B,IAAI,CAAC,QAApC,CAA6C,QAAQ,CAAEA,YAAvD,EANJ,cAM2E,aAN3E,cAOI,aAPJ,cASI,cAAO,GAAG,CAAC,aAAX,mCATJ,cAS0D,aAT1D,cAUI,iBAAU,IAAI,CAAC,GAAf,CAAmB,IAAI,CAAC,IAAxB,CAA6B,EAAE,CAAC,aAAhC,CAA8C,IAAI,CAAC,aAAnD,CAAgE,QAAQ,CAAEA,YAA1E,EAVJ,cAYI,aAZJ,cAaI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,OAAO,CAAEM,UAA7C,EAbJ,GADJ,EADJ,CAmBH,CA5CD,CA8CA,cAAeZ,WAAf"},"metadata":{},"sourceType":"module"}